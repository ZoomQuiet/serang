BaseStructure
# 应用软件发布结点(App Deploy Node) #
该结点应尽量简单
## 目的或职责 ##

  1. 应用管理入口，提供应用源程序的发布，删除，版本管理等
  1. 接受用户的上传请求，并将源程序统一管理
  1. 接受AR的发布通知
  1. 该结点直接向MN发布
  1. 发布后，由AD收集并向AR报告(由MN向AR报告还是AD统一收集后报告)
  1. AD的作用和BSD类似，但面向的层面不同

## 发布结点的扩展 ##

  1. 源程序不只是放到运行结点上，因为运行结点会随时被更换。
  1. 用户（发布应用）多的时候，需要提供更多的响应能力，所以作为AE上的应用存在，上传的源程序存放到AE依赖的DFS上，再通知AD发布
  1. 提供所有应用的版本管理

## 出错处理 ##

# 应用发布流程的考虑 #

发布程序，无论是发布平台还是发布应用，是从发布结点进入，还是从注册结点进入。好像怎么作都差不多，下面别是两种方式的处理流程，供后期讨论
查看上图

## 两种方式是这样的 ##

  1. 上传->AR->AR向MR申请机器->AR同知AD安装->安装后，MN通知AR->AR通知Client->开始服务；AR作为主导
  1. 上传->AD向MR申请机器->AD安装->安装后，MN通知MR->MR通知AR->AR通知Client->开始服务；AR只负责收集


## 从以下几点考虑 ##
  1. 对于应用，要有唯一的id，是否应该先注册。但注册和发布其实是不同的环节，注册可以发生在发布的很久之前。要有一个为申请ID开发的应用来处理。
  1. AR知道应用需要多少机器，MR不知道
  1. 有效的分层，不允许跨层访问，逻辑清晰，容易管理维护